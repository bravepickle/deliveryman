sendProvider:
    -
        config:
            domains:
                - 'http://example.com'
            channels:
                http_graph:
                    request_options: { headers: { User-Agent: [testing/1.0] } }

        input:
            data:
                - { uri: 'http://example.com/foo', id: ask-foo }

        responses:
            -   statusCode: 200
                headers:
                    Content-Type: [application/json]
                data: '{"id":1}'

        sentRequests:
            -   method: GET
                uri: 'http://example.com/foo'
                headers:
                    User-Agent: [testing/1.0]
                    Host: [example.com]
                data: ''

        output:
            ok:
                ask-foo:
                    id: ask-foo
                    headers: [{ name: Content-Type, value: application/json }]
                    statusCode: 200
                    data: { id: 1 }
            failed: []
            errors: []
